<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body>
    <h1>Hello World!!</h1>
    <a href="/editor">Go to Editor</a>
    <div id="data"></div>
</body>
</html>

<script>
    data = {
        "email":"surya@gmail.com",
        "password":"surya@password"
    }

    // post request

    fetch('/auth/login', {
        method: "POST",
        headers: {
            'Content-Type': 'application/json', // Ensure JSON content
        },
        body: JSON.stringify(data)
    })
    .then(res => res.json())
    .then(data =>{
        if(data.status == "success"){
            alert("login successfully")
        }else{
            alert("login not successfully")
        }
    })


    // get request
    setTimeout(()=>{
        fetch('/api/subscribers')
        .then(res => res.json())
        .then(data =>{
            console.log(data)
            data.data.forEach(row => {
                console.log(row)
                const div = document.createElement('div');
                div.innerText = row.email

                document.getElementById('data').appendChild(div);
            });
        })
    }, 1000)
    
</script>